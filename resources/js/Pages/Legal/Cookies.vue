<script setup>
import { Head } from '@inertiajs/vue3'
import AppLayout from '@/Layouts/AppLayout.vue'

// Funci√≥ per obrir el b√†ner de nou
const resetCookies = () => {
    // Disparem un event personalitzat que escoltar√† el component CookieConsent
    window.dispatchEvent(new Event('reset-cookie-consent'));
    // Fem scroll cap amunt perqu√® es vegi b√©
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>

<template>
  <AppLayout>
    <Head :title="$t('Pol√≠tica de Cookies')" />

    <div class="py-12 bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-300">
      <div class="max-w-4xl mx-auto px-6 lg:px-8">
        <div class="bg-white dark:bg-gray-800 overflow-hidden shadow-xl rounded-2xl p-8 md:p-12 text-gray-700 dark:text-gray-300 leading-relaxed">
          
          <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">{{ $t('Pol√≠tica de Cookies') }}</h1>

          <p class="mb-4">
            {{ $t('Aquesta web utilitza cookies per millorar l\'experi√®ncia d\'usuari i mostrar publicitat rellevant.') }}
          </p>

          <h2 class="text-xl font-bold text-gray-900 dark:text-white mt-8 mb-4">{{ $t('Qu√® s√≥n les Cookies?') }}</h2>
          <p class="mb-4">
            {{ $t('Les cookies s√≥n petits fitxers de text que es guarden al teu navegador quan visites una p√†gina web. Serveixen per recordar les teves prefer√®ncies, mantenir la teva sessi√≥ oberta o recopilar estad√≠stiques.') }}
          </p>

          <h2 class="text-xl font-bold text-gray-900 dark:text-white mt-8 mb-4">{{ $t('Tipus de Cookies que utilitzem') }}</h2>
          
          <div class="space-y-4 mt-4">
            <div>
              <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">1. {{ $t('Essencials (T√®cniques)') }}</h3>
              <p class="text-sm mb-2">
                {{ $t('S√≥n necess√†ries perqu√® la web funcioni. Inclouen:') }}
              </p>
              <ul class="list-disc pl-5 mt-1 text-sm">
                <li>{{ $t('Mantenir la sessi√≥ iniciada (`laravel_session`).') }}</li>
                <li>{{ $t('Seguretat i prevenci√≥ de frau (XSRF-TOKEN, Stripe).') }}</li>
                <li>{{ $t('Recordar la teva prefer√®ncia de cookies.') }}</li>
              </ul>
            </div>

            <div>
              <h3 class="font-bold text-lg text-gray-800 dark:text-gray-100">2. {{ $t('Publicit√†ries i Anal√≠tiques (Google AdSense)') }}</h3>
              <p class="text-sm">
                {{ $t('Utilitzades per Google per mostrar anuncis personalitzats basats en els teus interessos.') }}
                <strong>{{ $t('Aquestes cookies nom√©s es carreguen si dones el teu consentiment expl√≠cit al nostre b√†ner de cookies.') }}</strong>
              </p>
            </div>
          </div>

          <h2 class="text-xl font-bold text-gray-900 dark:text-white mt-8 mb-4">{{ $t('Gesti√≥ de les Cookies') }}</h2>
          <p class="mb-4">
            {{ $t('Pots retirar el teu consentiment o canviar les teves prefer√®ncies en qualsevol moment fent clic al bot√≥ de sota o esborrant les dades de navegaci√≥ del teu navegador.') }}
          </p>
          
          <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-600 text-center">
              <p class="text-sm font-semibold mb-4 text-gray-800 dark:text-gray-200">
                  {{ $t('Vols canviar la teva configuraci√≥ actual?') }}
              </p>
              <button 
                  @click="resetCookies"
                  class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-md transition-all transform hover:-translate-y-0.5"
              >
                  üç™ {{ $t('Configurar Prefer√®ncies de Cookies') }}
              </button>
          </div>

          <p class="mt-6 text-sm">
            {{ $t('Tamb√© pots configurar el teu navegador per bloquejar totes les cookies, per√≤ √©s possible que algunes parts de Rankkatsu (com el login) deixin de funcionar correctament.') }}
          </p>

        </div>
      </div>
    </div>
  </AppLayout>
</template>